@{
    ViewBag.Title = "User";
}
<div class="row">
    <div class="col-md-7">
        <div id="avatar-wrapper">
            <img id="userInfoAvatar" src="~/Images/default_avatar_male.jpg" class="avatar img-fluid" alt="Avatar" data-toggle="modal" data-target="#avatarModal" />
            <div id="account_info">
                <ul>
                    <li>Username: <span id="userInfoUsername"></span></li>
                    <li>UserId: <span id="userInfoId"></span></li>
                    <li>Loại tài khoản: <span id="userType"></span></li>
                </ul>
            </div>
        </div>
        <div id="history-wrapper">
            <ul class="nav nav-tabs" id="historyTab" role="tablist">
                <li class="nav-item">
                    <a class="nav-link active" id="selling-tab" data-toggle="tab" href="#selling" role="tab" aria-controls="selling" aria-selected="true">Sản phẩm đang bán</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="sole-tab" data-toggle="tab" href="#sole" role="tab" aria-controls="sole" aria-selected="false">Sản phẩm đã bán</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="bought-tab" data-toggle="tab" href="#bought" role="tab" aria-controls="bought" aria-selected="false">Sản phẩm đã mua</a>
                </li>
            </ul>
            <div class="tab-content" id="historyTabContent">
                <!--Selling History Table-->
                <div class="tab-pane fade show active table-responsive" id="selling" role="tabpanel" aria-labelledby="selling-tab">
                    <table id="sellingTable" class="table table-bordered table-responsive">
                        <thead class="thead-light">
                            <tr>
                                <th scope="col">#</th>
                                <th scope="col">ID</th>
                                <th scope="col">Tên sản phẩm</th>
                                <th scope="col">Giá (VNĐ)</th>
                                <th scope="col">Loại mặt hàng</th>
                                <th scope="col">Thời gian</th>
                                <th scope="col"></th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
                <!--/.Selling History Table-->
                <!--Sole History Table-->
                <div class="tab-pane fade table-responsive" id="sole" role="tabpanel" aria-labelledby="sole-tab">
                    <table id="soleTable" class="table table-bordered table-responsive">
                        <thead class="thead-light">
                            <tr>
                                <th scope="col">#</th>
                                <th scope="col">ID</th>
                                <th scope="col">Người mua</th>
                                <th scope="col">Tên sản phẩm</th>
                                <th scope="col">Giá (VNĐ)</th>
                                <th scope="col">Loại mặt hàng</th>
                                <th scope="col">Thời gian</th>
                                <th scope="col"></th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
                <!--/.Sole History Table-->
                <!--Bought History Table-->
                <div class="tab-pane fade table-responsive" id="bought" role="tabpanel" aria-labelledby="bought-tab">
                    <table id="boughtTable" class="table table-bordered table-responsive">
                        <thead class="thead-light">
                            <tr>
                                <th scope="col">#</th>
                                <th scope="col">ID</th>
                                <th scope="col">Người bán</th>
                                <th scope="col">Tên sản phẩm</th>
                                <th scope="col">Giá (VNĐ)</th>
                                <th scope="col">Loại mặt hàng</th>
                                <th scope="col">Thời gian</th>
                                <th scope="col"></th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
                <!--/.Bought History Table-->
            </div>
        </div>
    </div>
    <div class="col-md-5 table-responsive">
        <div id="loadingInner" class="sk-fading-circle" style="display: none;">
            <div class="sk-circle1 sk-circle"></div>
            <div class="sk-circle2 sk-circle"></div>
            <div class="sk-circle3 sk-circle"></div>
            <div class="sk-circle4 sk-circle"></div>
            <div class="sk-circle5 sk-circle"></div>
            <div class="sk-circle6 sk-circle"></div>
            <div class="sk-circle7 sk-circle"></div>
            <div class="sk-circle8 sk-circle"></div>
            <div class="sk-circle9 sk-circle"></div>
            <div class="sk-circle10 sk-circle"></div>
            <div class="sk-circle11 sk-circle"></div>
            <div class="sk-circle12 sk-circle"></div>
        </div>
        <table id="userInfoTable" class="table" style="display: none;">
            <thead class="thead-light">
            </thead>
            <tbody>
                <tr>
                    <td>Họ tên</td>
                    <td class="fit" id="userInfoName"></td>
                </tr>
                <tr>
                    <td>Giới tính</td>
                    <td class="fit" id="userInfoGender"></td>
                </tr>
                <tr>
                    <td>Ngày sinh</td>
                    <td class="fit" id="userInfoBirthdate"></td>
                <tr>
                    <td>Số điện thoại</td>
                    <td class="fit" id="userInfoPhone"></td>
                </tr>
                <tr>
                    <td>Email</td>
                    <td class="fit" id="userInfoEmail"></td>
                </tr>
                <tr>
                    <td>Địa chỉ</td>
                    <td class="fit" id="userInfoAddress"></td>
                </tr>
                <tr>
                    <td>Tỉnh thành</td>
                    <td class="fit" id="userInfoCity"></td>
                </tr>
                <tr>
                    <td>Ngày đăng ký</td>
                    <td class="fit" id="userInfoCreatedDate"></td>
                </tr>
            </tbody>
        </table>
        <div id="userFuncGroup">
            <a id="editProfileLink" data-toggle="modal" data-target="#editProfileModal">Sửa thông tin</a>
            <a id="changePasswordLink" data-toggle="modal" data-target="#changePasswordModal">Đổi mật khẩu</a>
        </div>
    </div>
</div>

<!--Change Avatar Modal-->
<div id="avatarModal" class="modal fade myModal" role="dialog">
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">ĐỔI ẢNH ĐẠI DIỆN</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <img id="userInfoAvatarModal" src="~/Images/default_avatar_male.jpg" class="avatar img-fluid" alt="Avatar" />
                <form class="form-horizontal d-inline" name="changeAvatarForm" method="post">
                    <div class="form-group">
                        <label for="avatar_file" class="font-weight-bold">File:</label>
                        <input type="file" class="form-control" id="avatar_file" name="avatar_file" placeholder="Chọn Ảnh" />   
                        <label id="changeAvatar_msg" class="error" style="text-align: center; display: none;"></label>
                    </div>
                    <button type="submit" id="avatarBtn" class="btn btn-default modalBtn">ĐỔI ẢNH ĐẠI DIỆN</button>
                </form>
            </div>
        </div>
    </div>
</div>

<!--Edit Profile Modal-->
<div id="editProfileModal" class="modal fade myModal" role="dialog">
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">SỬA THÔNG TIN</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <div class="modal-body">
                <form class="form-horizontal" name="editProfileForm" method="post">
                    <div class="form-group row">
                        <label for="edit_lastName" class="col-md-2">Họ:</label>
                        <input type="text" class="form-control offset-md-1 col-md-3" id="edit_lastName" name="lastName" placeholder="Họ">
                        <label for="edit_firstName" class="col-md-2">Tên:</label>
                        <input type="text" class="form-control offset-md-1 col-md-3" id="edit_firstName" name="firstName" placeholder="Tên">
                    </div>
                    <div class="form-group row">
                        <label for="edit_gender" class="col-md-3">Giới tính:</label>
                        <div class="form-check form-check-inline col-md-2">
                            <input class="form-check-input" type="radio" name="gender" id="edit_male" value="Nam">
                            <label class="form-check-label" for="edit_male">Nam</label>
                        </div>
                        <div class="form-check form-check-inline col-md-2">
                            <input class="form-check-input" type="radio" name="gender" id="edit_female" value="Nữ">
                            <label class="form-check-label" for="edit_femail">Nữ</label>
                        </div>
                        <div class="form-check form-check-inline col-md-2">
                            <input class="form-check-input" type="radio" name="gender" id="edit_other" value="Khác">
                            <label class="form-check-label" for="edit_other">Khác</label>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="edit_birthdate" class="col-md-3">Ngày sinh:</label>
                        <input type="date" class="form-control col-md-9" id="edit_birthdate" name="birthDate">
                    </div>
                    <div class="form-group row">
                        <label for="edit_phone" class="col-md-3">Số điện thoại:</label>
                        <input type="tel" class="form-control col-md-9" id="edit_phone" name="phone" placeholder="Số điện thoại">
                    </div>
                    <div class="form-group row">
                        <label for="edit_mail" class="col-md-3">Email:</label>
                        <input type="email" class="form-control col-md-9" id="edit_email" name="email" placeholder="Email">
                    </div>
                    <div class="form-group row">
                        <label for="edit_address" class="col-md-3">Địa chỉ:</label>
                        <textarea type="text" class="form-control col-md-9" id="edit_address" name="address" placeholder="Địa chỉ"></textarea>
                    </div>
                    <div class="form-group row">
                        <label for="edit_city" class="col-md-3">Tỉnh thành:</label>
                        @Html.DropDownList("edit_city", (IEnumerable<SelectListItem>)ViewBag.selectListCity, new { @class = "form-control col-md-9" })

                    </div>
                    <button type="submit" id="editProfileBtn" class="btn btn-default modalBtn">SỬA THÔNG TIN</button>
                </form>
            </div>
        </div>
    </div>
</div>

<!--Change Password Modal-->
<div id="changePasswordModal" class="modal fade myModal" role="dialog">
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">ĐỔI MẬT KHẨU</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form class="form-horizontal" name="changePasswordForm" method="post">
                    <div class="form-group">
                        <input type="password" class="form-control" id="change_old_password" name="old_password" placeholder="Mật khẩu cũ" />
                    </div>
                    <div class="form-group">
                        <input type="password" class="form-control" id="change_new_password" name="new_password" placeholder="Mật khẩu mới">
                    </div>
                    <div class="form-group">
                        <input type="password" class="form-control" id="change_new_repassword" name="new_repassword" placeholder="Xác nhận mật khẩu mới">
                        <label id="changePassword_msg" class="error" style="text-align: center; display: none;"></label>
                    </div>
                    <button type="submit" id="changePasswordBtn" class="btn btn-default modalBtn">ĐỔI MẬT KHẨU</button>
                </form>
            </div>
        </div>
    </div>
</div>
@section Scripts{
    <script type="text/javascript">
        userJs = '@Html.Raw(ViewBag.gUserStr)';
    </script>
    @Scripts.Render("~/bundles/userScripts")
}